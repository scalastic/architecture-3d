@()

@main("Architecture 3D App") {
  <div id="loading-overlay">
    <div class="inner">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 39 39" xml:space="preserve">

            <path class="heart" d="M33.7,15.6c-0.1-3.5-2.3-6.5-5.6-7.5c-0.7-0.2-1.4-0.3-2.1-0.3c-2.6,0-5.1,1.4-6.6,3.6
           c-1.5-2.2-3.9-3.6-6.6-3.6c-1.3,0-2.4,0.3-3.5,0.8c-2.6,1.2-4.4,4-4.4,7c-0.1,3.5,1.7,7.1,5.4,11c1.4,1.5,3.1,3,5.2,4.6
           c0.3,0.2,0.6,0.5,0.9,0.7c0.9,0.6,1.8,1.3,2.4,2.1c0.1,0.2,0.3,0.3,0.5,0.3c0.2,0,0.4-0.1,0.5-0.3c0.6-0.8,1.4-1.4,2.2-2
           c0.2-0.2,0.5-0.3,0.7-0.5c1.8-1.4,3.3-2.7,4.8-4.1C31.5,23.4,33.6,19.6,33.7,15.6C33.7,15.7,33.7,15.7,33.7,15.6L33.7,15.6z
          M25.9,8.9c0.5,0,1,0.1,1.6,0.2c1.1,0.2,2.1,0.8,2.9,1.6l-4,2.5l-1-4.3C25.6,9,25.8,8.9,25.9,8.9z M20.8,17.8l1,5.1l-5-2.6
           L20.8,17.8z M16.7,19.4l0.6-2.5l2.7,0.4L16.7,19.4z M21.6,17.6l5.6,0.9L22.7,23L21.6,17.6z M27.3,19.6l-1.6,4.2l-2.4-0.3L27.3,19.6z
          M22.4,16.8l4-2.5l0,0l3.9-2.5L28,17.7L22.4,16.8z M25.6,13.7L22,16l2.7-6.1L25.6,13.7z M24.1,9.2l-3,6.8l-1.3-3.2
           C20.7,11,22.3,9.7,24.1,9.2z M18.3,12c0.2,0.3,0.3,0.5,0.5,0.8c0,0.1,0.1,0.2,0.2,0.2l1.3,3.4L17.4,16L18.3,12z M16.6,15.9l-3.4-0.6
           l4.3-3.1L16.6,15.9z M13.1,16.2l3.3,0.5l-0.6,2.7L13.1,16.2z M14.7,19.5l-7.4-2.9l4.6-0.6L14.7,19.5z M12.1,15l-2.3-2.8l7.1-0.6
           L12.1,15z M13.4,9l2,1.8l-4.9,0.4L13.4,9z M12.1,9l-3,2.3l-0.7-0.8C9.5,9.6,10.7,9.1,12.1,9z M7.8,11.1l3.4,4.2L6,15.8
           C6,14,6.6,12.4,7.8,11.1z M6.2,17.2c0-0.1,0-0.1,0-0.2l8.3,3.3l-6.4,1.6C7.1,20.4,6.4,18.8,6.2,17.2z M8.5,22.7l6.6-1.7l-2.4,6.5
           C11.5,26.3,9.8,24.7,8.5,22.7z M16,21.1l6.6,8l-9-1.3L16,21.1z M21.2,31.2L21,31.4c-0.6,0.4-1.2,0.9-1.7,1.4c-0.5-0.5-1-0.9-1.6-1.3
           l-0.2-0.1c-1.2-0.9-2.2-1.7-3.2-2.5l8.4,1.2C22.2,30.5,21.6,30.9,21.2,31.2z M17.5,21.6L22,24l0.8,4.2L17.5,21.6z M23,24.3l2.4,0.4
           l-1.5,3.9L23,24.3z M25.6,27.6c-0.2,0.2-0.5,0.4-0.8,0.7l1.3-3.5l1.9,0.3C27.4,25.9,26.6,26.7,25.6,27.6z M26.5,24l1.6-4.1l0.4,4.4
           L26.5,24z M29.3,23.7l-0.5-5l3.1,0.5C31.3,20.7,30.5,22.2,29.3,23.7z M32.1,18.4l-3.3-0.5l2.4-6.2c0.8,1.2,1.3,2.6,1.3,4
           C32.6,16.6,32.4,17.5,32.1,18.4z"/>
        <path class="arc a" d="M19.5,0.5c10.5,0,19,8.5,19,19s-8.5,19-19,19"/>
        <path class="arc b" d="M19.5,0.5c-10.5,0-19,8.5-19,19s8.5,19,19,19"/>
         </svg>

      <h1>Architecture 3D</h1>
      <h2 id="loading-overlay-heading">loading...</h2>
    </div>
  </div>
  <script type="text/javascript">
      (function(){
        var canvas = document.createElement( 'canvas' );
        var gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        var doesNotSupportWebGL = !(gl && gl instanceof window.WebGLRenderingContext);
        var isMobileDevice = (function () {
          var check = false;
          (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
          return check;
        })();

        if( doesNotSupportWebGL || isMobileDevice ) {
          window.abortLaunch = true;
          document.getElementById( 'loading-overlay' ).classList.add( 'static' );
          var msg;
          if( doesNotSupportWebGL ) {
            msg = 'WebGL not found!<br /><br />' +
            'Sorry, Arcentry is build on a 3D technology called WebGL which your browser unfortunately does not support.<br /><br />' +
            'Please find a list of supported browsers here: <br /> <a href="https://caniuse.com/#feat=webgl">https://caniuse.com/#feat=webgl</a>';
          }

          else if( isMobileDevice ) {
            msg = 'Sorry, no mobile support yet<br /><br />' +
            'Unfortunately Arcentry does not support touchscreen devices at the moment.'
          }
          document.getElementById( 'loading-overlay-heading' ).innerHTML = msg;
        }
      })()
    </script>
  <div id="app-container">
    <fullscreen-panel ref="fullscreenOverlay"></fullscreen-panel>
    <context-overlay ref="contextOverlay"></context-overlay>
    <image-area-selector ref="imageAreaSelector"></image-area-selector>
    <sidebar ref="sidebar"></sidebar>
    <view-controls ref="viewControls"></view-controls>
    <notifications-panel ref="notifications"></notifications-panel>
    <div class="canvas-container"></div>
  </div>
  <script src="@routes.Assets.versioned("javascripts/vue.min.js")" type="text/javascript"></script>

  <script src="https://js.pusher.com/4.2/pusher.min.js"></script>
  <script src="@routes.Assets.versioned("javascripts/vue-resource.js")" type="text/javascript"></script>
  <script src="https://checkout.stripe.com/checkout.js"></script>
  <script src="@routes.Assets.versioned("javascripts/bundle.js")" type="text/javascript"></script>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet">
  <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/screen.css")">
}
